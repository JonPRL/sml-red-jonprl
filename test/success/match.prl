Thm MatchGoal : [ (-> bool bool bool bool bool bool) ] by [
  fresh x, y <- repeat {
    query gl <- goal.
    print [gl:jdg];
    match [gl:jdg] {
      [a, b | #jdg{(-> [x : %a] (%b x))} => refine dfun/intro; [id, auto]]
      [a | %[a:jdg] => id]
    }
  };
  
  use y
].

Print MatchGoal.